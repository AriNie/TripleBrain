---
layout: post
title: Chmodコマンドについて
tags: unix command
categories: unix
---


* TOC
{:toc}

Author：Non




# chmodとは

UbuntuやMacで`source`コマンドなどを利用してファイルを実行した時、よく`permission denied`されることがある。

その解決策として、そのファイルのパーミッションを書き換えてしまうのが`chmod`コマンドである。

<br>

# chmodコマンドを使う前に

`chmod`コマンドを使用してパーミッションを書き換えてしまう前に、そのファイルの現在の権限を確認しよう。

パーミッションの確認は

```
ls -l ファイル（またはディレクトリ
```

で実行できる。

実行すると

```
-rw-r--r--  1 xxxx  114514  1919  8 10 19:19 Yaju-senpai
```

などのような出力が現れる。重要なのは`-rw-r--r--`の部分で

これは

|ファイル種別|所有者に対する権限|所有グループに対する権限|その他|
|:---:|:---:|:---:|:---:|
|`-`|`rw-`|`r--`|`r--`|

という割り振りになる。ここで`r--`のような部分を解説すると

|`r`|`w`|`x`|
|:---:|:---:|:---:|
|読み取り|書き取り|実行|
|4|2|1|

となっている。

＊一番下の数字は数字モードでの対応数字。これは`2^n`の数になっている。

<br>

# chmodコマンドの使い方

いざ、権限を書き換えてみよう。

大抵の場合は（自分は所有者として実行しているので）、所有者に実行権限を渡せば良い。

今回はわかりやすいように下記の例を扱う。

```
-rw-r--r--  1 xxxx  114514  1919  8 10 19:19 Yaju-senpai
```

これは上の表を照らし合わせると

- 実行者：読み込みと書き込み（`4+2=6`
- 所有グループ：読み込みのみ（`4`
- その他：読み込みのみ（`4`

となっている。

これを所有者に対して実行（`x：1`）を付与させたいので

コマンドは

```
chmod 744 Yaju-senpai
```

としてやれば良い。

＊うまくいかない場合は全ユーザに対してフル権限を渡してやって、実行後元の権限に戻せば良い。つまり`chmod 777 Yaju-senpai` 実行後 `chmod 644 Yaju-senpai`（非推奨

